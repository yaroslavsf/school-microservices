<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="28.2.3">
  <diagram id="microservices-platform" name="Microservices Platform">
    <mxGraphModel dx="2258" dy="815" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="client" value="Client&lt;br&gt;(Postman&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="30" y="210" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="edgeBox" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;container=1;collapsible=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="505" width="430" height="90" as="geometry" />
        </mxCell>
        <mxCell id="traefik" value="Traefik&#xa;Reverse Proxy" style="rounded=1;whiteSpace=wrap;html=1;" parent="edgeBox" vertex="1">
          <mxGeometry y="30.68" width="144.17" height="28.64" as="geometry" />
        </mxCell>
        <mxCell id="authentik" value="authentik&#xa;OIDC / SSO" style="rounded=1;whiteSpace=wrap;html=1;" parent="edgeBox" vertex="1">
          <mxGeometry x="270" y="28.64" width="148.06" height="28.64" as="geometry" />
        </mxCell>
        <mxCell id="bizBox" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;container=1;collapsible=0;" parent="1" vertex="1">
          <mxGeometry x="520" y="410" width="515" height="270" as="geometry" />
        </mxCell>
        <mxCell id="py" value="Python Service&#xa;(FastAPI)" style="rounded=1;whiteSpace=wrap;html=1;" parent="bizBox" vertex="1">
          <mxGeometry x="320" y="10" width="161.73" height="87.92" as="geometry" />
        </mxCell>
        <mxCell id="mq" value="RabbitMQ&#xa;(AMQP)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;bgOutline=1;" parent="bizBox" vertex="1">
          <mxGeometry x="30.004999999999995" y="90" width="118.84615384615385" height="90" as="geometry" />
        </mxCell>
        <mxCell id="js" value="JavaScript Service&#xa;(Fastify)" style="rounded=1;whiteSpace=wrap;html=1;" parent="bizBox" vertex="1">
          <mxGeometry x="270" y="170" width="160" height="90" as="geometry" />
        </mxCell>
        <mxCell id="dataBox" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;container=1;collapsible=0;" parent="1" vertex="1">
          <mxGeometry x="670" y="700" width="210" height="170" as="geometry" />
        </mxCell>
        <mxCell id="pydb" value="PostgreSQL&#xa;(Python DB)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;bgOutline=1;" parent="dataBox" vertex="1">
          <mxGeometry x="35" y="29.99666666666667" width="140" height="49.583333333333336" as="geometry" />
        </mxCell>
        <mxCell id="jsdb" value="PostgreSQL&#xa;(JS DB)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;bgOutline=1;" parent="dataBox" vertex="1">
          <mxGeometry x="35" y="95.625" width="140" height="49.583333333333336" as="geometry" />
        </mxCell>
        <mxCell id="obsBox" value="" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;container=1;collapsible=0;" parent="1" vertex="1">
          <mxGeometry x="470" y="100" width="750" height="300" as="geometry" />
        </mxCell>
        <mxCell id="promtail" value="Promtail&#xa;(Log Collector)" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="512.5" y="0.0013975155279487084" width="100" height="68.77826086956522" as="geometry" />
        </mxCell>
        <mxCell id="loki" value="Loki&#xa;(Logs)" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="55" y="8.78" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="prom" value="Prometheus&#xa;(Metrics)" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="460" y="80" width="225" height="55.52142857142857" as="geometry" />
        </mxCell>
        <mxCell id="otel" value="OTel Collector" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="450" y="160" width="225" height="43.83" as="geometry" />
        </mxCell>
        <mxCell id="tempo" value="Tempo&#xa;(Traces)" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="450" y="240" width="225" height="46.36" as="geometry" />
        </mxCell>
        <mxCell id="grafana" value="Grafana&#xa;(Dashboards)" style="rounded=1;whiteSpace=wrap;html=1;" parent="obsBox" vertex="1">
          <mxGeometry x="10" y="144.54739130434785" width="230" height="95.4521739130435" as="geometry" />
        </mxCell>
        <mxCell id="e1" value="HTTP (REST)" style="endArrow=block;html=1;rounded=0;strokeWidth=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;dashed=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="client" target="traefik" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" value="forward-auth / OIDC" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" parent="1" source="traefik" target="authentik" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e3" value="HTTP (REST)" style="endArrow=block;html=1;rounded=0;strokeWidth=1;dashed=1;exitX=0.896;exitY=0.081;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="traefik" target="py" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="169" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e4" value="HTTP (REST)" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=0.709;exitY=1.031;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.005;entryY=0.84;entryDx=0;entryDy=0;dashed=1;entryPerimeter=0;" parent="1" source="traefik" target="js" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="142" y="655" />
              <mxPoint x="640" y="655" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e5" value="AMQP publish/consume" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" parent="1" source="py" target="mq" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e6" value="AMQP publish/consume" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" parent="1" source="mq" target="js" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e7" value="SQL" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=0.861;exitY=1.024;exitDx=0;exitDy=0;dashed=1;exitPerimeter=0;" parent="1" source="py" target="pydb" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="760" />
              <mxPoint x="900" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e8" value="SQL" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=0.905;exitY=0.991;exitDx=0;exitDy=0;dashed=1;exitPerimeter=0;" parent="1" source="js" target="jsdb" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="935" y="820" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="e9" value="logs (stdout)" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=0.987;exitY=0.596;exitDx=0;exitDy=0;dashed=1;entryX=1.003;entryY=0.599;entryDx=0;entryDy=0;exitPerimeter=0;entryPerimeter=0;" parent="1" source="py" target="promtail" edge="1">
          <mxGeometry x="-0.8584" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1400" y="472" />
              <mxPoint x="1400" y="140" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e10" value="logs (stdout)" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;dashed=1;" parent="1" source="js" target="promtail" edge="1">
          <mxGeometry x="-0.8498" y="-2" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1410" y="648" />
              <mxPoint x="1410" y="130" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e11" value="push logs" style="endArrow=block;html=1;rounded=0;strokeWidth=1;" parent="1" source="promtail" target="loki" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e12" value="scrape /metrics" style="endArrow=block;html=1;rounded=0;strokeWidth=1;dashed=1;entryX=0.992;entryY=0.878;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="prom" target="py" edge="1">
          <mxGeometry x="-0.7682" y="1" relative="1" as="geometry">
            <mxPoint x="983" y="500" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1330" y="208" />
              <mxPoint x="1330" y="497" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e13" value="scrape /metrics" style="endArrow=block;html=1;rounded=0;strokeWidth=1;entryX=0.97;entryY=0.093;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="prom" target="js" edge="1">
          <mxGeometry x="-0.8007" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1340" y="194" />
              <mxPoint x="1340" y="590" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e14" value="OTLP traces" style="endArrow=block;html=1;rounded=0;strokeWidth=1;entryX=1;entryY=0.75;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;dashed=1;" parent="1" source="py" target="otel" edge="1">
          <mxGeometry x="-0.6647" y="2" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="440" />
              <mxPoint x="1250" y="293" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e15" value="OTLP traces" style="endArrow=block;html=1;rounded=0;strokeWidth=1;exitX=1.01;exitY=0.6;exitDx=0;exitDy=0;dashed=1;exitPerimeter=0;" parent="1" source="js" target="otel" edge="1">
          <mxGeometry x="-0.703" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1260" y="634" />
              <mxPoint x="1260" y="280" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="e16" value="export traces" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" parent="1" source="otel" target="tempo" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e17" value="query logs" style="endArrow=block;html=1;rounded=0;strokeWidth=1;" parent="1" source="grafana" target="loki" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e18" value="query metrics" style="endArrow=block;html=1;rounded=0;strokeWidth=1;" parent="1" source="grafana" target="prom" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e19" value="query traces" style="endArrow=block;html=1;rounded=0;strokeWidth=1;" parent="1" source="grafana" target="tempo" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
